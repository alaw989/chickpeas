---
phase: 02-section-animations
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - components/features/menu/Menu.vue
autonomous: true

must_haves:
  truths:
    - "Menu section header slides up when entering viewport"
    - "Menu items animate in with staggered timing"
    - "Stagger creates wave effect across menu items"
    - "Animations are subtle and don't distract from content"
    - "Animations respect prefers-reduced-motion"
  artifacts:
    - path: "components/features/menu/Menu.vue"
      provides: "Staggered fade-in animations on menu items"
      contains: "v-motion"
  key_links:
    - from: "Menu.vue item list"
      to: "@vueuse/motion"
      via: "v-motion directive with computed delay per item"
      pattern: 'v-motion.*:visible-once.*delay.*i \*'
---

<objective>
Add staggered fade-in animation to menu items and slide-up to the menu section header.

Purpose: Create a polished menu browsing experience where items appear in a flowing, sequential manner rather than all at once.

Output: Menu items that animate in with a wave effect (each item slightly delayed after the previous), creating visual rhythm.
</objective>

<execution_context>
@/Users/austinlaw/.claude/get-shit-done/workflows/execute-plan.md
@/Users/austinlaw/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-animation-infrastructure/01-01-SUMMARY.md
@components/features/menu/Menu.vue
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add slide-up animation to menu section header</name>
  <files>components/features/menu/Menu.vue</files>
  <action>
Add v-motion directive to the menu header section for slide-up entrance animation:

1. Locate the header div (contains eyebrow, heading, description, category tabs):
```html
<div class="text-center mb-10">
```

2. Add v-motion directive for slide-up animation:
```html
<div
  class="text-center mb-10"
  v-motion
  :initial="{ opacity: 0, y: 20 }"
  :visible-once="{ opacity: 1, y: 0, transition: { duration: 400 } }"
>
```

3. Animation parameters:
   - Initial: invisible, 20px below
   - Visible: fully visible, in position
   - Duration: 400ms (quick, doesn't delay menu browsing)

4. Using `visible-once` so it only animates on first scroll into view.

Note: This component uses Options API, but v-motion directive works the same way.
  </action>
  <verify>
1. Run `npm run dev`
2. Navigate to homepage, scroll to menu section
3. Menu header (title, description, tabs) should slide up and fade in
4. Animation should be quick (400ms) and subtle
  </verify>
  <done>
Menu section header animates with slide-up effect when entering viewport.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add staggered fade-in animation to menu items</name>
  <files>components/features/menu/Menu.vue</files>
  <action>
Add staggered v-motion animations to each menu item in the list:

1. Locate the menu items loop:
```html
<li v-for="(item, i) in currentMenuItems" :key="item.id || i">
```

2. Add v-motion with computed delay based on index:
```html
<li
  v-for="(item, i) in currentMenuItems"
  :key="item.id || i"
  v-motion
  :initial="{ opacity: 0, y: 16 }"
  :visible-once="{
    opacity: 1,
    y: 0,
    transition: {
      duration: 400,
      delay: 50 + (i * 50)
    }
  }"
>
```

3. Stagger calculation:
   - Base delay: 50ms (after header animation)
   - Per-item delay: 50ms * index
   - Item 0: 50ms, Item 1: 100ms, Item 2: 150ms, etc.
   - Cap effect: after ~10 items (500ms total), the stagger is less noticeable but that's fine

4. Animation parameters:
   - Smaller movement: 16px (menu items are smaller than section cards)
   - Duration: 400ms per item
   - Total stagger for 8 items: ~450ms spread

5. Using `visible-once` so items only animate once per page load.

Important: The stagger will reset when switching menu tabs because Vue re-renders the list. This is intentional - provides nice feedback when changing categories.
  </action>
  <verify>
1. Run `npm run dev`
2. Scroll to menu section - items should fade in with wave effect
3. First item appears slightly before second, second before third, etc.
4. Click different category tab - new items should animate in fresh
5. Scroll away and back - items should NOT re-animate (visible-once)
6. Check that animation feels smooth, not janky or slow
  </verify>
  <done>
Menu items animate in with staggered timing creating a wave effect; re-animates on tab change.
  </done>
</task>

</tasks>

<verification>
After both tasks complete:
1. `npm run dev` runs without errors
2. Menu header slides up on scroll entry
3. Menu items fade-in with staggered timing (wave effect)
4. Tab switching triggers fresh animations on new items
5. Animations feel subtle and polished
6. No console errors related to v-motion
</verification>

<success_criteria>
1. Menu items have staggered fade-in animation (ANIM-04)
2. Menu header slides up on scroll entry (ANIM-05)
3. Stagger creates visible wave effect across items
4. Animations are subtle: 16px movement, 400ms duration
5. Tab switch re-triggers item animations (expected UX)
6. Uses @vueuse/motion v-motion directive (auto-imported)
7. Respects prefers-reduced-motion (via Phase 1 CSS)
</success_criteria>

<output>
After completion, create `.planning/phases/02-section-animations/02-03-SUMMARY.md`
</output>
